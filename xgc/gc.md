## 三色标记法
* 各个颜色含义
  * 白色-表示未被标记为“可达”的对象，通常是“可回收”的候选对象
  * 灰色-表示已被标记为“可达”的对象，但其引用的对象还没被扫描
  * 黑色-表示已标记为“可达”的对象，并且其引用的对象也已经被扫描处理
* 原理
  * 强三色不变性-黑色对象不会指向白色对象，只会指向灰色对象或者黑色对象
  * 弱三色不变性-黑色对象指向的白色对象必须包含一条从灰色对象经由多个白色对象的可达路径
    * 准许黑色对象指向白色对象，但是该白色对象必须有一条路径可以从某个灰色对象触发，通过若干白色对象“路由”到它
    * 强三色不变性=>弱三色不变性，反之不成立

## go的垃圾收集
* 阶段
  * 分为四个阶段清除终止、标记、标记终止、清除
  
## 混合写屏障解决漏标多标问题
### 解决思路
* 将对象分为堆上的对象和栈上的对象
* GC开始将栈上的对象全部扫描并标记为黑色，无需STW。并且之后不再进行第二次重复扫描
* 在GC期间，任何在栈上创建的新对象，均为黑色
* 在GC期间，在堆上被删除或者添加的对象都标记为灰色后续继续扫描
垃圾收集器在扫描过程中从“根”对象（如栈、全局变量）开始，把所有可达对象标记为灰色并继续递归标记他们引用的对象，最终被标记为黑色。没有被标记的对象（仍为白色）会被认定为不可达，从而被回收。


